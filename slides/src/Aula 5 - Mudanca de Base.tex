\documentclass{beamer}
\usetheme[logo=brasaoUFSC.png]{fibeamer}
%% These macros specify information about the presentation
\title{Aula 5: Mudança de Bases}
%\subtitle{2019.2}
\author{Melissa Weber Mendonça}
%% These additional packages are used within the document:
\usepackage{ragged2e}  % `\justifying` text
\usepackage{booktabs}  % Tables
\usepackage{tabularx}
\usepackage{tikz}      % Diagrams
\usetikzlibrary{calc, shapes, backgrounds, arrows}
\usepackage{pgfplots}
\usepackage{amsmath, amssymb}
\usepackage{url}       % `\url`s
\usepackage{listings}  % Code listings
\usepackage{verbatim}
\usepackage{animate}
\usepackage{hyperref}
\hypersetup{
    colorlinks = true,
    allcolors = [rgb]{1,0.83,0.39}
}
\frenchspacing

\makeatletter
\setlength\fibeamer@lengths@logowidth{4em}
\setlength\fibeamer@lengths@logoheight{5em}
\makeatother

\newcommand{\zerodisplayskips}{%
  \setlength{\abovedisplayskip}{0pt}%
  \setlength{\belowdisplayskip}{0pt}%
  \setlength{\abovedisplayshortskip}{0pt}%
  \setlength{\belowdisplayshortskip}{0pt}}

\begin{document}
\frame{\maketitle}

\begin{darkframes}

\begin{frame}{Coordenadas}
  Para determinarmos as coordenadas de um vetor (isto é, os coeficientes da combinação linear dos elementos da base que o definem) precisamos fazer isso numa certa ordem.

  \alert{Exemplo:}
  
  $(2,3) = 2(1,0)+3(0,1)$.

  Mas se $\overline{e_1} = (0,1)$ e $\overline{e_2} = (1,0)$, então as coordenadas mudam para 
  \begin{equation*}
     (2,3) = 3\overline{e_1}+2\overline{e_2} = (3,2)_{\text{(nova base)}}
  \end{equation*}
\end{frame}

\begin{frame}{Base}
  \begin{block}{Definição}
    Se $E$ é um espaço vetorial de dimensão finita, uma base ordenada de $E$ é uma \emph{sequência} finita de vetores que é l.i. e que gera $E$.
  \end{block}
  \vfill
  \only<2>{Desta forma, dada uma base ordenada ${\mathcal{B}} = \{\alpha_1,\alpha_2,\ldots,\alpha_n\}$ de $V$, então dado $v\in V$, existe uma única $n$-tupla de escalares $x_i$ tais que
    \begin{equation*}
      v = \sum_{i=1}^n x_i \alpha_i.
    \end{equation*}}
\end{frame}

\begin{frame}{A base não é única}
  Frequentemente, ao invés de trabalharmos com as coordenadas de um vetor, vamos precisar trabalhar com a matriz de $v$ relativa à base ordenada ${\mathcal{B}}$:
  \begin{equation*}
    v =
    \begin{pmatrix}
      x_1\\\vdots\\ x_n
    \end{pmatrix}_{\mathcal{B}}
  \end{equation*}
  Isto é útil pois vamos tentar descrever o que acontece quando mudamos de base.
\end{frame}

\begin{frame}{Mudança de base}
  \begin{block}{Teorema}
    Seja $E$ um espaço vetorial de dimensão $n$ e sejam ${\mathcal{B}} =\{\alpha_j\}_{j=1,2,\ldots,n}$ e ${\mathcal{B}}'= \{\alpha_j'\}_{j=1,2,\ldots,n}$ duas bases ordenadas de $E$. Então existe uma matriz única $P$, inversível e $n\times n$, com entradas tais que
    \begin{equation*}
      [v]_{\mathcal{B}} = P[v]_{{\mathcal{B}}'} \quad \mbox{ e } \quad [v]_{{\mathcal{B}}'}=P^{-1}[v]_{\mathcal{B}},
    \end{equation*}
    para todo $v\in E$. As colunas de $P$ são dadas por 
    \begin{equation*}
      P_j = [\alpha'_j]_{\mathcal{B}}, \quad j = 1,\ldots,n.
    \end{equation*}
  \end{block}
\end{frame}

\begin{frame}{Demonstração}
  \begin{footnotesize}
    \only<1-2>{Considere as bases
      \begin{equation*}
        \zerodisplayskips
        {\mathcal{B}} = \{\alpha_1,\ldots,\alpha_n\} \mbox{ e } {\mathcal{B}}' = \{ \alpha_1',\ldots,\alpha_n'\}
      \end{equation*}
      Então, existe um conjunto único de escalares $P_{ij}$ tais que
      \begin{equation*}
        \zerodisplayskips
        \alpha_j' = \sum_{i=1}^n P_{ij} \alpha_i, 1\leq j\leq n.
      \end{equation*}
    }
    \only<2>{Sejam agora $x_1,\ldots,x_n$ as coordenadas de um vetor $v$ na base ordenada ${\mathcal{B}}$ e $x_1',\ldots,x_n'$ as coordenadas do mesmo vetor $v$ na base ordenada ${\mathcal{B}}'$. Então, \vspace*{-0.5cm}
      \begin{align*}
        \zerodisplayskips
        v &= x_1'\alpha_1'+\ldots + x_n'\alpha_n' = \sum_{j=1}^n x_j'\alpha_j'\\
          &= \sum_{j=1}^nx_j'\sum_{i=1}^n P_{ij}\alpha_i\\
          &= \sum_{j=1}^n\sum_{i=1}^n (P_{ij}x_j')\alpha_i\\
          &= \sum_{j=1}^n\left(\sum_{i=1}^n P_{ij}x_j'\right)\alpha_i
      \end{align*}}
    \only<3->{\alert{(continuação)} Como as coordenadas são unicamente determinadas para cada base, isso implica que
    \begin{equation*}
      x_i = \sum_{j=1}^n P_{ij} x_j', 1\leq i\leq n
    \end{equation*}
    Seja então $P$ a matriz formada pelos $P_{ij}$ e $X$ e $X'$ as matrizes coordenadas do vetor $v$ nas bases ${\mathcal{B}}$ e ${\mathcal{B}}'$, respectivamente. Então,
    \begin{equation*}
      X = PX'.
    \end{equation*}
    Como as duas bases são linearmente independentes, $X=0$ se e somente se $X'=0$. Logo, segue de um teorema anterior que $P$ é inversível; ou seja
    \begin{equation*}
      X' = P^{-1}X.
    \end{equation*}
    Em outras palavras,
    \begin{equation*}
      [v]_{\mathcal{B}} = P[v]_{{\mathcal{B}}'} \mbox{ e } [v]_{{\mathcal{B}}'} = P^{-1}[v]_{\mathcal{B}}
    \end{equation*}}
  \end{footnotesize}
\end{frame}

\begin{frame}{Mudança de base}
  Isto quer dizer que para construirmos $P$ que leva um vetor descrito na base ${\mathcal{B}}'$ em sua descrição na base ${\mathcal{B}}$, devemos escrever cada vetor da base ${\mathcal{B}}'$ em suas coordenadas na base ${\mathcal{B}}$. Podemos denotar também 
 \begin{equation*}
 	P=I_{\mathcal{B}}^{{\mathcal{B}}'}.
 \end{equation*}
\end{frame}

\begin{frame}{}
  \begin{block}{Teorema}
    Seja $P$ uma matriz $n\times n$ inversível, e seja $V$ um espaço $n$-dimensional definido no mesmo corpo; além disso, seja ${\mathcal{B}}$ uma base ordenada de $V$. Então existe uma única base ordenada ${\mathcal{B}}'$ de $V$ tal que $P$ é a matriz de mudança de base de ${\mathcal{B}}'$ para ${\mathcal{B}}$, ou seja, 
   \begin{equation*}
      [v]_{\mathcal{B}} = P[v]_{{\mathcal{B}}'} \mbox{ e } [v]_{{\mathcal{B}}'} = P^{-1}[v]_{\mathcal{B}}
   \end{equation*}
   para qualquer vetor $v\in V$.
 \end{block}
 \vfill
 \alert{Demonstração. } \only<1>{Seja ${\mathcal{B}} = \{\alpha_1,\ldots,\alpha_n\}$. Se ${\mathcal{B}}' = \{ \alpha_1',\ldots,\alpha_n'\}$ for uma base ordenada de $V$ para a qual a primeira igualdade é válida, então devemos ter
\begin{equation*}
  \alpha_j' = \sum_{i=1}^n P_{ij} \alpha_i.
\end{equation*}
Logo, precisamos somente mostrar que estes vetores $\alpha_j'$ formam uma base de $V$.}

\only<2>{Mas:
  \begin{equation*}
    \zerodisplayskips
    \sum_j P^{-1}_{jk}\alpha_j' = \sum_j P^{-1}_{jk} \sum_i P_{ij}\alpha_i = \sum_j \sum_i P_{ij}P^{-1}_{jk} \alpha_i = \alpha_k
  \end{equation*}
  Logo, o subespaço gerado por ${\mathcal{B}}'$ contém ${\mathcal{B}}$ e é portanto igual a $V$. Logo, ${\mathcal{B}}'$ é base; assim, as duas afirmações são verdadeiras.}
\end{frame}

\begin{frame}{Exemplo}
  Seja ${\mathcal{B}} = \{(1,0),(0,1)\}$ e ${\mathcal{B}}' = \{(1,1), (1,0)\}$ bases de ${\mathbb{R}}^2$. Então 
  \begin{align*}
    (1,0) &= \only<2->{0(1,1)+1(1,0)}\\
    (0,1) &= \only<2->{1(1,1)-1(1,0)}
  \end{align*}
  \only<3->{Logo,
    \begin{equation*}
      \begin{pmatrix}
        v_1\\v_2
      \end{pmatrix}_{{\mathcal{B}}'} = 
      \begin{pmatrix}
        \only<4->{0 & 1}\\
        \only<4->{1 & -1}
      \end{pmatrix}
      \begin{pmatrix}
        v_1\\v_2
      \end{pmatrix}_{{\mathcal{B}}}
    \end{equation*}}
  \only<5->{Assim, 
    \begin{equation*}
      \begin{pmatrix}
        2\\3
      \end{pmatrix}_{{\mathcal{B}}'} =
      \begin{pmatrix}
        0 & 1\\ 1 & -1
      \end{pmatrix} 
      \begin{pmatrix}
        2\\3
      \end{pmatrix}_{\mathcal{B}} = 
      \begin{pmatrix}
        3\\-1
      \end{pmatrix}_{\mathcal{B}}.
    \end{equation*}}
\end{frame}

\begin{frame}{Exemplo}
  Considere ${\mathcal{B}} = \{(1,0),(0,1)\}$, ${\mathcal{B}}'=\{(2,3),(-1,2)\}$. Para construirmos $I_{\mathcal{B}}^{{\mathcal{B}}'}$, escrevemos cada vetor da base ${\mathcal{B}}'$ na base ${\mathcal{B}}$:\vspace*{-0.5cm}
  \begin{align*}
    (2,3) & = \only<2->{2(1,0)+3(0,1)}\\
    (-1,2) & = \only<2->{-1(1,0)+2(0,1)}
  \end{align*}
  \only<3->{Logo,
    \begin{equation*}
      \zerodisplayskips
      I_{\mathcal{B}}^{{\mathcal{B}}'} = \only<4->{\begin{pmatrix} 2 & -1\\3 & 2\end{pmatrix}}
    \end{equation*}}
  \only<5->{Note que, se $v=(1,1)_{{\mathcal{B}}'}$, então em ${\mathcal{B}}'$ teremos}
  \only<6->{%
    \begin{equation*}
      \zerodisplayskips
      v = 1(2,3)+1(-1,2) = (1,5)_{\mathcal{B}}.
    \end{equation*}}
  \only<7>{De fato:
  \begin{equation*}
    \zerodisplayskips
    I_{\mathcal{B}}^{{\mathcal{B}}'} v_{{\mathcal{B}}'} = \begin{pmatrix} 2 & -1\\3 & 2\end{pmatrix} \begin{pmatrix} 1\\1\end{pmatrix} = \begin{pmatrix} 1\\5\end{pmatrix}.
  \end{equation*}}
\end{frame}

\begin{frame}{Exemplo: continuação}
  Por outro lado, \vspace*{-0.5cm}
  \begin{align*}
    (1,0) & = \frac{2}{7}(2,3) - \frac{3}{7}(-1,2)\\
    (0,1) & = \frac{1}{7}(2,3) + \frac{2}{7}(-1,2)
  \end{align*}
  Assim,
  \begin{equation*}
    I_{{\mathcal{B}}'}^{\mathcal{B}} = \begin{pmatrix} \frac{2}{7} & \frac{1}{7}\\\-\frac{3}{7} & \frac{2}{7}\end{pmatrix}.
  \end{equation*}
  De fato,
  \begin{equation*}
    I_{{\mathcal{B}}'}^{\mathcal{B}}v_{\mathcal{B}} = \begin{pmatrix} \frac{2}{7} & \frac{1}{7}\\ -\frac{3}{7} & \frac{2}{7}\end{pmatrix} \begin{pmatrix} 1\\5\end{pmatrix} = \begin{pmatrix} 1\\1\end{pmatrix}_{\mathcal{B}}.
  \end{equation*}
  Ainda:
  \begin{equation*}
    I_{{\mathcal{B}}'}^{\mathcal{B}}I_{\mathcal{B}}^{{\mathcal{B}}'} = I.
  \end{equation*}
\end{frame}

\begin{frame}{Exemplo}
  Se ${\mathcal{B}} = \{ (1,2),(3,5)\}$ e ${\mathcal{B}}' = \{(1,-1),(1,-2)\}$, para encontrarmos $I_{\mathcal{B}}^{{\mathcal{B}}'}$ devemos escrever os elementos de ${\mathcal{B}}'$ na base ${\mathcal{B}}$. Mas isso pode ser difícil. Considere então a base canônica em ${\mathbb{R}}^2$. Então:
  \begin{equation*}
    I_C^{{\mathcal{B}}'} = \begin{pmatrix} 1 & 1\\-1 & -2\end{pmatrix}.
  \end{equation*}
  Além disso, \vspace*{-0.5cm}
  \begin{align*}
    (1,0) &= -5(1,2)+2(3,5)\\
    (0,1) &= 3(1,2)-1(3,5)
  \end{align*}
  \vspace*{-0.5cm} e assim
  \begin{equation*}
    I_{\mathcal{B}}^C = \begin{pmatrix} -5 & 3\\2 & -1\end{pmatrix}.
  \end{equation*}
\end{frame}

\begin{frame}{Exemplo: continuação}
  Então:
  \begin{equation*}
    I_{\mathcal{B}}^{{\mathcal{B}}'} = I_{\mathcal{B}}^C I_C^{{\mathcal{B}}'} = \begin{pmatrix} -5 & 3\\2 & -1\end{pmatrix} \begin{pmatrix} 1 & 1\\-1 & -2\end{pmatrix} = \begin{pmatrix} -8 & -11 \\3 & 4\end{pmatrix}.
  \end{equation*}
  Note que
  \begin{equation*}
    I_{\mathcal{B}}^{{\mathcal{B}}'} v_{{\mathcal{B}}'} = \begin{pmatrix} -8 & -11\\3 & 4\end{pmatrix} \begin{pmatrix} 1\\1\end{pmatrix}_{{\mathcal{B}}'} = \begin{pmatrix} -19\\7\end{pmatrix}
  \end{equation*}
  De fato,
  \begin{align*}
    (1,1)_{{\mathcal{B}}'} &= (1,-1)+(1,-2) = (2,3)_C\\
    (-19,7)_{\mathcal{B}} &= -19(1,2)+7(3,5) = (2,-3)_C.
  \end{align*}
\end{frame}

\begin{frame}{Exemplo}
  Em ${\mathbb{R}}^3$, se consideramos as bases\vspace*{-0.5cm}
  \begin{align*}
    E &= \{ (1,0,0),(0,1,0),(0,0,1)\}\\
    S &= \{ (1,0,1),(2,1,2),(1,2,2)\}
  \end{align*}
  \vspace*{-0.5cm}temos que
  \begin{equation*}
    I_E^S = \begin{pmatrix} 1 & 2 & 1\\0 & 1 & 2\\1& 2 & 2\end{pmatrix} \qquad \text{ e } \qquad I_S^E = \begin{pmatrix} -2 & -2 & 3\\2 & 1 & -2\\1 & 0 & 1\end{pmatrix}
  \end{equation*}
  Assim, se $v = (1,1,1)_E$, temos
  \begin{equation*}
    I_S^E v_E = \begin{pmatrix} -2 & -2 & 3\\2 & 1 & 2\\1 & 0 & 1\end{pmatrix} \begin{pmatrix} 1\\1\\1\end{pmatrix}_E = \begin{pmatrix} -1\\1\\0\end{pmatrix}_S.
  \end{equation*}
\end{frame}

\begin{frame}{Exemplo}
  \begin{footnotesize}
  Seja $\theta \in {\mathbb{R}}$; a matriz 
  \begin{equation*}
     P = 
     \begin{pmatrix}
        \cos{\theta} & -\sin{\theta}\\
        \sin{\theta} & \cos{\theta}
     \end{pmatrix}
  \end{equation*}
  é inversível com inversa
  \begin{equation*}
     \begin{pmatrix}
        \cos{\theta} & \sin{\theta}\\
        -\sin{\theta} & \cos{\theta}
     \end{pmatrix}
  \end{equation*}
  Logo, para cada $\theta$, o conjunto ${\mathcal{B}}'$ formado pelos vetores $(\cos{\theta}, \sin{\theta})$, $(-\sin{\theta}, \cos{\theta})$ é uma base de ${\mathbb{R}}^2$. Intuitivamente esta base é obtida ao rotacionarmos a base canônica num ângulo $\theta$. Se $\alpha =(x_1,x_2)$, então
  \begin{equation*}
     [\alpha]_{{\mathcal{B}}'} = 
     \begin{pmatrix}
        \cos{\theta} & \sin{\theta}\\
        -\sin{\theta} &\cos{\theta}
     \end{pmatrix}
     \begin{pmatrix}
        x_1\\x_2
     \end{pmatrix}
  \end{equation*}
  ou ainda
  \begin{align*}
    x_1' &= x_1\cos{\theta}+x_2\sin{\theta}\\
    x_2' &= -x_1\sin{\theta}+x_2\cos{\theta}      
  \end{align*}
\end{footnotesize}
\end{frame}

\end{darkframes}
\end{document}

